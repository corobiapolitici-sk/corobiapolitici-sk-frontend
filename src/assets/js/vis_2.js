var visualization2Laws = {
  "45": 'Programové vyhlásenie vlády Slovenskej republiky',
  "200": 'Návrh poslancov Národnej rady Slovenskej republiky</br>'
    + 'Andreja DANKA, Martina GLVÁČA, Tibora BERNAŤÁKA, Gábora GÁLA</br>'
    + 'a Andreja HRNČIARA na vydanie zákona, ktorým sa mení a dopĺňa</br>'
    + 'zákon Národnej rady Slovenskej republiky č. 350/1996 Z. z. o</br>'
    + 'rokovacom poriadku Národnej rady Slovenskej republiky v znení</br>'
    + 'neskorších predpisov',
  "373": 'Návrh skupiny poslancov Národnej rady Slovenskej republiky na</br>'
    + 'vydanie zákona, ktorým sa mení a dopĺňa zákon č. 311/2001 Z. z.</br>'
    + 'Zákonník práce v znení neskorších predpisov',
  "261": 'Návrh skupiny poslancov Národnej rady Slovenskej republiky</br>'
    + 'na vydanie zákona, ktorým sa dopĺňa zákon č. 282/2002 Z. z.,</br>'
    + 'ktorým sa upravujú niektoré podmienky držania psov v znení zákona</br>'
    + 'č. 102/2010 Z. z. a o zmene a doplnení zákona č. 39/2007 Z. z. o</br>'
    + 'veterinárnej starostlivosti v znení neskorších predpisov',
  "961": 'Návrh poslancov Národnej rady Slovenskej republiky Mariana KOTLEBU,</br>'
    + 'Rastislava SCHLOSÁRA, Milana UHRÍKA a Stanislava DROBNÉHO na vydanie zákona,</br>'
    + 'ktorým sa mení a dopĺňa zákon Slovenskej národnej rady č. 73/1986 Zb. o umelom</br>'
    + 'prerušení tehotenstva v znení neskorších predpisov',
  "913": 'Programové vyhlásenie vlády Slovenskej republiky',
  "292": 'Stanovisko Najvyššieho kontrolného úradu Slovenskej republiky</br>'
    + 'k návrhu štátneho rozpočtu na rok 2017',
  "230": 'Vládny návrh zákona o štátnom rozpočte na rok 2017</br>'
    + '(Návrh rozpočtu verejnej správy na roky 2017 až 2019)',
  "495": 'Návrh skupiny poslancov Národnej rady Slovenskej republiky na</br>'
    + 'vyslovenie nedôvery členovi vlády Slovenskej republiky Jánovi RICHTEROVI,</br>'
    + 'poverenému riadením Ministerstva práce, sociálnych vecí a rodiny Slovenskej republiky',
  "431": 'Návrh skupiny poslancov Národnej rady Slovenskej republiky na vyslovenie</br>'
    + 'nedôvery predsedovi vlády Slovenskej republiky Robertovi FICOVI',
  "746": 'Návrh poslancov Národnej rady Slovenskej republiky Petra ANTALA,</br>'
    + 'Bélu BUGÁRA, Andreja HRNČIARA, Eleméra JAKABA a Igora JANCKULÍKA na</br>'
    + 'vydanie zákona, ktorým sa mení a dopĺňa zákon Národnej rady Slovenskej republiky</br>'
    + 'č. 233/1995 Z. z. o súdnych exekútoroch a exekučnej činnosti (Exekučný poriadok)</br>'
    + 'a o zmene a doplnení ďalších zákonov v znení neskorších predpisov',
  "740": 'Stanovisko Najvyššieho kontrolného úradu Slovenskej</br>'
    + 'republiky k návrhu štátneho rozpočtu na rok 2018',
  "700": 'Vládny návrh zákona o štátnom rozpočte na rok 2018</br>'
    + '(Návrh rozpočtu verejnej správy na roky 2018 až 2020)',
  "614": 'Návrh skupiny poslancov Národnej rady Slovenskej republiky na</br>'
    + 'prijatie uznesenia Národnej rady Slovenskej republiky k uvoľneniu</br>'
    + 'tzv. dlhovej brzdy prostredníctvom novely ústavného zákona č. 493/2011 Z. z.</br>'
    + 'o rozpočtovej zodpovednosti zo dňa 8. decembra 2011 ako nástroja na riešenie</br>'
    + 'nedostatku financií na dobudovanie nadradenej - prioritnej cestnej infraštruktúry',
  "800": 'Návrh skupiny poslancov Národnej rady Slovenskej republiky</br>'
    + 'na vyslovenie nedôvery podpredsedovi vlády a ministrovi vnútra</br>'
    + 'Slovenskej republiky Robertovi KALlŇÁKOVI',
  "987": 'Návrh skupiny poslancov Národnej rady Slovenskej republiky na</br>'
    + 'vyslovenie nedôvery podpredsedníčke vlády a ministerke pôdohospodárstva</br>'
    + 'a rozvoja vidieka Slovenskej republiky Gabriele MATEČNEJ',
  "218": 'Návrh poslancov Národnej rady Slovenskej republiky Eugena JURZYCU,</br>'
    + 'Petra OSUSKÉHO a Jany CIGÁNIKOVEJ na vydanie zákona, ktorým sa dopĺňa zákon</br>'
    + 'č. 343/2015 Z. z. o verejnom obstarávaní a o zmene a doplnení niektorých</br>'
    + 'zákonov v znení zákona č. 438/2015 Z. z.',
  "598": 'Návrh poslancov Národnej rady Slovenskej republiky Jaroslava PAŠKU,</br>'
    + 'Márie JANÍKOVEJ, Ľubomíra ŽELlEZKU a Martiny ŠIMKOVIČOVEJ na vydanie zákona,</br>'
    + 'ktorým sa mení a dopĺňa zákon č. 553/2002 Z. z. o sprístupnení dokumentov</br>'
    + 'o činnosti bezpečnostných zložiek štátu 1939 - 1989 a o založení Ústavu pamäti</br>'
    + 'národa a o doplnení niektorých zákonov (zákon o pamäti národa) v znení neskorších predpisov',
  "150": 'Návrh skupiny poslancov Národnej rady Slovenskej republiky na vyslovenie</br>'
    + 'nedôvery členovi vlády Slovenskej republiky Robertovi Kaliňákovi,</br>'
    + 'poverenému riadením Ministerstva vnútra Slovenskej republiky',
  "330": 'Zákon z 26. októbra 2016, ktorým sa mení a dopĺňa zákon Národnej rady</br>'
    + 'Slovenskej republiky č. 350/1996 Z. z. o rokovacom poriadku Národnej rady</br>'
    + 'Slovenskej republiky v znení neskorších predpisov, vrátený prezidentom</br>'
    + 'Slovenskej republiky na opätovné prerokovanie Národnou radou Slovenskej republiky'
}
var visualization2LawNames = Object.keys(visualization2Laws)

function visualizationUpdate2 (data) {
  var clubNames = Object.keys(data)

  var items = clubNames.reduce((acc, clubName, clubNameIndex) => {
    visualization2LawNames.forEach((lawName, lawNameIndex) => {
      acc.push({
        label: {
          fontFamily: 'QuarcaRegular',
          fontSize: 14
        },
        value: [lawNameIndex, clubNameIndex, data[clubName][lawName] || '-']
      })
    })
    return acc
  }, [])

	return {
    animation: false,
		tooltip: {
			position: 'top',
			formatter: function (params) {
        var lawName = visualization2LawNames[params.data.value[0]]
        var clubName = clubNames[params.data.value[1]]
        return '<b>' + clubName + '</b> mal <b>' + params.data.value[2] + '</b> rozprav o zákone <b>' + lawName + '</b></br><i>'
          + visualization2Laws[lawName] + '</i>'
      }
		},
		xAxis: {
			data: visualization2LawNames.map(function () {
        return ''
      }),
      show: false
    },
		yAxis: {
      data: clubNames,
      axisLine: {
        lineStyle: {
          color: 'white'
        }
      },
      axisLabel: {
        fontFamily: 'QuarcaRegular',
        fontSize: 14
      }
		},
		visualMap: {
			min: 10,
			max: 200,
			calculable: true,
			orient: 'horizontal',
			left: 'center',
			bottom: '-15%'
		},
		series: [{
			type: 'heatmap',
			data: items,
			label: {
				normal: {
					show: true
				}
			},
			itemStyle: {
				emphasis: {
					shadowBlur: 10,
					shadowColor: 'rgba(0, 0, 0, 0.5)'
				}
			}
		}]
	}
}

function visualizationClickHandler2 (params) {
  if (params.data.value[2] !== '-') {
    window.open('https://www.nrsr.sk/web/Default.aspx?sid=zakony%2Fzakon&ZakZborID=13&CisObdobia=7&CPT='
      + visualization2LawNames[params.data.value[0]], '_blank')
  }
}
